{

 "Configuration Settings":
 [
   {
    "Name": [ "Conditional Log Likelihood Function" ],
    "Type": "std::function<void(korali::Sample&)>",
     "Description": "This function should access sample['Latent Variables'], and from it calculate the conditional log likelihood of the data, given the latent variables. It will be returned in sample['Conditional LogLikelihood']. Returned values do not need to integrate to 1. The total log-likelihood will be calculated as this plus the log-probability of the latent variables (calculated internally)."
  }
 ],

 "Compatible Solvers": [ "HSAEM" ],
 
 "Results":
 [
 ],
 
  "Available Operations":
 [
  {
   "Name": "Evaluate Conditional LogLikelihood",
   "Description": "Evaluates the 'Conditional (Data) Log Likelihood Function' set by the user. Expects parameter 'Latent Variables' to be set. Might be unnormalized.",
   "Function": "evaluateConditionalLoglikelihood",
   "Results": [ { "Name": "Conditional LogLikelihood", "Description": "Contains a single value, the evaluation of the function defined by the user." } ]
  },
  {
   "Name": "Check Feasibility",
   "Description": "Determines whether a proposed sample is feasible, given the problem description.",
   "Function": "isSampleFeasible",
   "Results": [ { "Name": "Evaluation", "Description": "Contains a boolean indicating whether the sample is feasible or not." } ]
  },
  {
   "Name": "Evaluate logPrior",
   "Function": "evaluateLogPrior",
   "Description": "Evaluates the logPrior of the sample.",
   "Results": [ { "Name": "logPrior", "Description": "Contains a single number with the log prior evaluation of the sample." } ]
  },
  {
   "Name": "Evaluate LogLikelihood",
   "Function": "evaluateLoglikelihood",
   "Description": "Evaluates the loglikelihood of the sample.",
   "Results": [ { "Name": "LogLikelihood", "Description": "Contains a single number with the log likelihood evaluation of the sample." } ]
  },
  {
   "Name": "Evaluate logPosterior",
   "Function": "evaluateLogPosterior",
   "Description": "Evaluates the loglikelihood of the sample.",
   "Results": [ { "Name": "logPosterior", "Description": "Contains a single number with the log posterior evaluation of the sample." } ]
  }
 ],
 
 "Variables Configuration":
 [
   {
    "Name": [ "Latent Variable Distribution Type" ],
    "Type": "std::string",
    "Options": [
                { "Value": "NA", "Description": "For hyperparameters, we do not need any assumptions about their distribution." },
                { "Value": "Normal", "Description": "Assume this latent variable is distributed normally." },
                { "Value": "Log-Normal", "Description": "Assume the log of this latent variable is distributed normally." },
                { "Value": "Logit-Normal", "Description": "Assume the logit (log(t/(1-t))) of this latent variable is distributed normally." }
               ],
    "Description": "For latent variables. We use a restricted hierarchical model, where latent variables can follow either a normal, a log-normal or a logit-normal distribution. Hyperparameters will be determined automatically as mean and covariance of the underlying normally distributed variables."
   }
 ],

   "Internal Settings":
 [
   {
     "Name": ["Hyperparameter Mean"],
     "Type": "std::vector<korali::Variable*>",
     "Description": "Hyperparameters representing the means (mean of all normal distributions of the transformed latent variables)"
   },
   {
     "Name": ["Hyperparameter Covariance"],
     "Type": "std::vector<korali::Variable*>",
     "Description": "Hyperparameters representing the covariance (of the joint normal distribution of the transformed latent variables)"
   },
   {
     "Name": ["Normal Latent Indices"],
     "Type": "std::vector<size_t>",
     "Description": "Indices to find the normally distributed latent variables among all variables"
   },
   {
     "Name": ["Lognormal Latent Indices"],
     "Type": "std::vector<size_t>",
     "Description": "Indices to find the log-normally distributed latent variables among all variables (whose log is normally distributed)"
   },
   {
     "Name": ["Logitnormal Latent Indices"],
     "Type": "std::vector<size_t>",
     "Description": "Indices to find the logit-normally distributed latent variables among all variables (whose logit, i.e. p/(1-p) is normally distributed"
   },
   {
     "Name": ["Hyperparameter Mean Indices"],
     "Type": "std::vector<size_t>",
     "Description": "Indices to find the hyperparameters representing the mean (mean of the distribution of the latent variables) among all variables"
   },
   {
     "Name": ["Hyperparameter Cov Indices"],
     "Type": "std::vector<std::vector<size_t>>",
     "Description": "Indices to find the hyperparameters representing the covariance matrix entries (covariance of the distribution of the latent variables) among all variables. The indices are arranged in a matrix, s.t. entry [i][j] finds the index of cov[i][j]."
   }
 ],
 
 "Module Defaults":
 {
 },
 
 "Variable Defaults":
 {
  "Bayesian Type": "Latent"
 }
}
